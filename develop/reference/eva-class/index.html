
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Statistical analysis package">
      
      
      
        <link rel="canonical" href="https://serapieum-of-alex.github.io/statista/develop/reference/eva-class/">
      
      
        <link rel="prev" href="../distributions-class/">
      
      
        <link rel="next" href="../descriptors-module/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Extreme Value Analysis - Statista</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#eva-class" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Statista" class="md-header__button md-logo" aria-label="Statista" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Statista
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Extreme Value Analysis
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Serapieum-of-alex/statista" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Serapieum-of-alex/statista
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../installation/" class="md-tabs__link">
        
  
  
    
  
  Installation

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../distributions-class/" class="md-tabs__link">
          
  
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../notebook/sensitivity-analysis/scs-cn/" class="md-tabs__link">
          
  
  
    
  
  Examples

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../change-log/" class="md-tabs__link">
          
  
  
    
  
  About

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Statista" class="md-nav__button md-logo" aria-label="Statista" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Statista
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Serapieum-of-alex/statista" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Serapieum-of-alex/statista
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../distributions-class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Distributions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Extreme Value Analysis
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Extreme Value Analysis
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#statista.eva" class="md-nav__link">
    <span class="md-ellipsis">
      eva
    </span>
  </a>
  
    <nav class="md-nav" aria-label="eva">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#statista.eva.ams_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      ams_analysis
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../descriptors-module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Descriptors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plot-class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sensitivity-class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sensitivity Analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools-module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils-module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    sensitivity-analysis
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            sensitivity-analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebook/sensitivity-analysis/scs-cn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sensitivity Analysis in Hydrology
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Extreme Value Analysis
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Extreme Value Analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebook/extreme-value-analysis/extreme-value-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extreme Value Analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebook/extreme-value-analysis/rhine_discharge_analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rhine River Discharge Analysis using Statista Distributions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../change-log/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Change-log
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CODE_OF_CONDUCT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code of Conduct
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LICENSE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    License
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AUTHORS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authors
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#statista.eva" class="md-nav__link">
    <span class="md-ellipsis">
      eva
    </span>
  </a>
  
    <nav class="md-nav" aria-label="eva">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#statista.eva.ams_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      ams_analysis
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/Serapieum-of-alex/statista/edit/master/docs/reference/eva-class.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/Serapieum-of-alex/statista/raw/master/docs/reference/eva-class.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="eva-class"><a class="toclink" href="#eva-class">EVA Class</a><a class="headerlink" href="#eva-class" title="Permanent link">#</a></h1>


<div class="doc doc-object doc-module">



<h3 id="statista.eva" class="doc doc-heading"><a href="#statista.eva" class="toclink">
            <code>statista.eva</code>


</a><a href="#statista.eva" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents first">

        <p>Extreme value analysis.</p>
<p>Annual Maximum Series (AMS) Analysis is a statistical method commonly used in fields like hydrology, meteorology, and
environmental engineering to analyze extreme events, such as floods, rainfall, or temperatures. The primary goal of AMS
analysis is to assess the frequency and magnitude of extreme events over time.</p>
<p>Key Concepts of AMS Analysis</p>


<details class="definition" open>
  <summary>Definition</summary>
  <p>The Annual Maximum Series is a time series composed of the maximum values observed within each year. For example,
in hydrology, the AMS might consist of the highest daily flow recorded in each year for a river.</p>
</details>

<details class="purpose" open>
  <summary>Purpose</summary>
  <p>The AMS is used to model and predict the probability of extreme events occurring in the future. This is crucial for
risk assessment and the design of infrastructure to withstand such events (e.g., dams, levees, drainage systems).</p>
</details>        <p>Advantages of AMS Analysis
    - Simplicity: AMS analysis is straightforward and focuses on extreme events, which are often of primary interest.
    - Historical Context: Provides insights based on historical extreme values, which are directly relevant for
        planning and design.</p>
<p>Limitations of AMS Analysis
    - Data Limitations: The accuracy of AMS analysis depends on the availability and quality of long-term data.
    - Ignores Sub-Annual Events: AMS considers only one value per year, potentially ignoring significant events that
        occur more than once in a year.</p>


<details class="common-applications" open>
  <summary>Common Applications</summary>
  <ul>
<li>Flood Frequency Analysis: AMS is often used to estimate the probability of extreme flood events to help design
    flood control infrastructure.</li>
<li>Rainfall Analysis: Used to assess the risk of extreme rainfall events for urban drainage design.</li>
<li>Temperature Extremes: AMS can be used to evaluate the risk of extremely high or low temperatures.</li>
</ul>
</details>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="statista.eva.ams_analysis" class="doc doc-heading"><a href="#statista.eva.ams_analysis" class="toclink">
            <code class="highlight language-python"><span class="n">ams_analysis</span><span class="p">(</span><span class="n">time_series_df</span><span class="p">,</span> <span class="n">ams</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ams_start</span><span class="o">=</span><span class="s1">&#39;A-OCT&#39;</span><span class="p">,</span> <span class="n">save_plots</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">save_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">filter_out</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">distribution</span><span class="o">=</span><span class="s1">&#39;GEV&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;lmoments&#39;</span><span class="p">,</span> <span class="n">obj_func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">quartile</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span></code>

</a><a href="#statista.eva.ams_analysis" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Annual Maximum Series analysis.</p>
<p>ams analysis method reads resamples all the time series in the given dataframe to annual maximum, then fits
the time series to a given distribution and parameter estimation method.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>time_series_df</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DataFrame containing multiple time series to do the statistical analysis on.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ams</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the given time series is annual mean series. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ams_start</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The beginning of the year which is used to resample the time series to get the annual maximum series.
Default is "A-OCT".</p>
              </div>
            </td>
            <td>
                  <code>&#39;A-OCT&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>save_plots</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if you want to save the plots.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>save_to</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The rdir where you want to save the statistical properties.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filter_out</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>For observed or hydraulic model data it has gaps of times where the model did not run or gaps in the observed
data if these gap days are filled with a specific value and you want to ignore it here
give filter_out = Value you want</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>distribution</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>distribution name. Default is "GEV".</p>
              </div>
            </td>
            <td>
                  <code>&#39;GEV&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>available methods are 'mle', 'mm', 'lmoments', 'optimization'. Default is "lmoments".</p>
              </div>
            </td>
            <td>
                  <code>&#39;lmoments&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>obj_func</code>
            </td>
            <td>
                  <code><span title="callable">callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>objective function to be used in the optimization method, default is None. for Gumbel distribution there is the
<code>Gumbel.truncated_distribution</code> and similarly for the GEV distribution there is the GEV.truncated_distribution.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>quartile</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the quartile is only used when estimating the distribution parameters based on optimization and a threshould
value, the threshold value will be calculated as the quartile coresponding to the value of this parameter.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alpha</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>alpha or Significance level is a value of the confidence interval. Default is [0.1].</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Statistical properties like mean, std, min, 5%, 25%, median, 75%, 95%, max, start_year, end_year, nyr, q1.5,
q2, q5, q10, q25, q50, q100, q200, q500, q1000.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distribution properties like the shape, location, and scale parameters of the fitted distribution, plus the
D-static and P-Value of the KS test.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    
        <ul>
<li>First read the data as <code>pandas.DataFrame</code>.
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">ams_gauges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;examples/data/ams-gauges.csv&quot;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">ams_gauges</span><span class="p">)</span> <span class="c1"># doctest: +SKIP</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">Frankfurt</span>  <span class="n">Mainz</span>  <span class="n">Kaub</span>  <span class="n">Andernach</span>  <span class="n">Cologne</span>   <span class="n">Rees</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">date</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="mi">1951</span>         <span class="o">-</span><span class="mi">9</span>   <span class="mi">4250</span>  <span class="mi">4480</span>       <span class="mi">6080</span>     <span class="mi">6490</span>   <span class="mi">6830</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="mi">1952</span>         <span class="o">-</span><span class="mi">9</span>   <span class="mi">4490</span>  <span class="mi">4610</span>       <span class="mi">6970</span>     <span class="mi">7110</span>   <span class="mi">7340</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="mi">1953</span>         <span class="o">-</span><span class="mi">9</span>   <span class="mi">4270</span>  <span class="mi">4380</span>       <span class="mi">7300</span>     <span class="mi">7610</span>   <span class="mi">7970</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="mi">1954</span>         <span class="o">-</span><span class="mi">9</span>   <span class="mi">2850</span>  <span class="mi">2910</span>       <span class="mi">3440</span>     <span class="mi">3620</span>   <span class="mi">3840</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="mi">1955</span>         <span class="o">-</span><span class="mi">9</span>   <span class="mi">5940</span>  <span class="mi">6050</span>       <span class="mi">9460</span>     <span class="mi">9460</span>   <span class="mi">9500</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="mi">1956</span>         <span class="o">-</span><span class="mi">9</span>   <span class="mi">5000</span>  <span class="mi">5150</span>       <span class="mi">7140</span>     <span class="mi">7270</span>   <span class="mi">7540</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="mi">1957</span>         <span class="o">-</span><span class="mi">9</span>   <span class="mi">4500</span>  <span class="mi">4520</span>       <span class="mi">6650</span>     <span class="mi">6750</span>   <span class="mi">6950</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="o">.....</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="mi">1998</span>       <span class="mi">1060</span>   <span class="mi">4720</span>  <span class="mi">4790</span>       <span class="mi">6910</span>     <span class="mi">6700</span>   <span class="mi">6150</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="mi">1999</span>       <span class="mi">1420</span>   <span class="mi">5480</span>  <span class="mi">5730</span>       <span class="mi">8160</span>     <span class="mi">8530</span>   <span class="mi">9240</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="mi">2000</span>        <span class="mi">625</span>   <span class="mi">3750</span>  <span class="mi">3900</span>       <span class="mi">6390</span>     <span class="mi">6370</span>   <span class="mi">6550</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="mi">2001</span>       <span class="mi">1140</span>   <span class="mi">5420</span>  <span class="mi">5710</span>       <span class="mi">8320</span>     <span class="mi">8410</span>   <span class="mi">8410</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="mi">2002</span>       <span class="mi">1170</span>   <span class="mi">4950</span>  <span class="mi">5140</span>       <span class="mi">7260</span>     <span class="mi">7240</span>   <span class="mi">7940</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="mi">2003</span>       <span class="mi">1800</span>   <span class="mi">5090</span>  <span class="mi">5350</span>       <span class="mi">8620</span>     <span class="mi">8840</span>   <span class="mi">9470</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="mi">2004</span>        <span class="mi">197</span>   <span class="mi">1150</span>  <span class="mi">1190</span>       <span class="mi">1470</span>     <span class="mi">1580</span>   <span class="mi">1810</span>
</code></pre></div></li>
<li>The time series data we have just read are the annual maximum series of the gauges, the first column is an
    index of the year (54 years in total) and the rest are dischate values in m3/s for each the station. a value 0f
    "-9" is used to fill the missing data.</li>
<li>The <code>ams_analysis</code> function takes the time series <code>DataFrame</code> as the first and only positional argument,
    all the other arguments are optional. Since the time series is annual maximum series already, so we don't
    need the function to do any resampling, we set <code>ams=True</code>. The <code>ams_start</code> could be used to provide the
    beginning of the year to resample the time series to ams (i.e., <code>ams_start = "A-OCT"</code>).</li>
<li>We want to save the plots, so we set <code>save_plots=True</code> and provide the directory where we want to save the plots in
    <code>save_to</code>.</li>
<li>We also want to filter out the missing data, so we set <code>filter_out=-9</code>.</li>
<li>In order to fit the time series to a distribution we also to provide the parameter estimation method (i.e.,
    <code>lmoments</code>, <code>mle</code>, <code>mm</code>, <code>optimization</code>), the default is the <code>lmoments</code>, and you need to provide the name of
    the distribution you want to fit the time series to (i.e., <code>GEV</code>, <code>Gumbel</code>). So for that we
    will use <code>method="lmoments"</code>, and <code>distribution="GEV"</code>.</li>
<li>The <code>alpha</code> is the significance level of the confidence interval, the default is 0.1. The <code>alpha</code> parameter is
    necessary for the confidence interval calculation.
    <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">method</span> <span class="o">=</span> <span class="s2">&quot;lmoments&quot;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">save_to</span> <span class="o">=</span> <span class="s2">&quot;examples/data/gauges&quot;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">statistical_properties</span><span class="p">,</span> <span class="n">distribution_properties</span> <span class="o">=</span> <span class="n">ams_analysis</span><span class="p">(</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="o">...</span>     <span class="n">time_series_df</span><span class="o">=</span><span class="n">ams_gauges</span><span class="p">,</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="o">...</span>     <span class="n">ams</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="o">...</span>     <span class="n">save_plots</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="o">...</span>     <span class="n">save_to</span><span class="o">=</span><span class="n">save_to</span><span class="p">,</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="o">...</span>     <span class="n">filter_out</span><span class="o">=-</span><span class="mi">9</span><span class="p">,</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="o">...</span>     <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="o">...</span>     <span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="o">...</span> <span class="p">)</span> <span class="c1"># doctest: +SKIP</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="o">-----</span><span class="n">KS</span> <span class="n">Test</span><span class="o">--------</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="n">Statistic</span> <span class="o">=</span> <span class="mf">0.07317073170731707</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="n">Accept</span> <span class="n">Hypothesis</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="n">P</span> <span class="n">value</span> <span class="o">=</span> <span class="mf">0.9999427584427157</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="o">-----</span><span class="n">KS</span> <span class="n">Test</span><span class="o">--------</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="n">Statistic</span> <span class="o">=</span> <span class="mf">0.07317073170731707</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="n">Accept</span> <span class="n">Hypothesis</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="n">P</span> <span class="n">value</span> <span class="o">=</span> <span class="mf">0.9999427584427157</span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="mi">2024</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span> <span class="mi">12</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mf">04.779</span> <span class="o">|</span> <span class="n">DEBUG</span>    <span class="o">|</span> <span class="n">statista</span><span class="o">.</span><span class="n">confidence_interval</span><span class="p">:</span><span class="n">boot_strap</span><span class="p">:</span><span class="mi">104</span> <span class="o">-</span> <span class="n">Some</span> <span class="n">values</span> <span class="n">used</span> <span class="n">top</span> <span class="mi">10</span> <span class="n">low</span><span class="o">/</span><span class="n">high</span> <span class="n">samples</span><span class="p">;</span> <span class="n">results</span> <span class="n">may</span> <span class="n">be</span> <span class="n">unstable</span><span class="o">.</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="mi">2024</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span> <span class="mi">12</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mf">05.221</span> <span class="o">|</span> <span class="n">INFO</span>     <span class="o">|</span> <span class="n">statista</span><span class="o">.</span><span class="n">eva</span><span class="p">:</span><span class="n">ams_analysis</span><span class="p">:</span><span class="mi">300</span> <span class="o">-</span> <span class="n">Gauge</span> <span class="n">Frankfurt</span> <span class="n">done</span><span class="o">.</span>
</code></pre></div></li>
<li>The <code>ams_analysis</code> function will iterate over all the gauges in the time series and fit the time series to the
    distribution and calculate the statistical properties and the distribution properties of the fitted distribution.</li>
<li>One of the outputs of the function is the statistical properties of the time series, which includes the mean, std,
    min, and  some quantile (5%, 25%, ..., 95%, max).
    <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">statistical_properties</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="mi">9</span><span class="p">]])</span> <span class="c1"># doctest: +SKIP</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>                  <span class="n">mean</span>          <span class="n">std</span>     <span class="nb">min</span>       <span class="mi">5</span><span class="o">%</span>      <span class="mi">25</span><span class="o">%</span>  <span class="n">median</span>      <span class="mi">75</span><span class="o">%</span>       <span class="mi">95</span><span class="o">%</span>      <span class="nb">max</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nb">id</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="n">Frankfurt</span>   <span class="mf">917.439024</span>   <span class="mf">433.982918</span>   <span class="mf">197.0</span>   <span class="mf">347.00</span>   <span class="mf">548.00</span>   <span class="mf">882.0</span>  <span class="mf">1170.00</span>   <span class="mf">1760.00</span>   <span class="mf">1990.0</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="n">Mainz</span>      <span class="mf">4153.333333</span>  <span class="mf">1181.707804</span>  <span class="mf">1150.0</span>  <span class="mf">2286.50</span>  <span class="mf">3415.00</span>  <span class="mf">4190.0</span>  <span class="mf">4987.50</span>   <span class="mf">5914.00</span>   <span class="mf">6920.0</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="n">Kaub</span>       <span class="mf">4327.092593</span>  <span class="mf">1243.019565</span>  <span class="mf">1190.0</span>  <span class="mf">2394.50</span>  <span class="mf">3635.00</span>  <span class="mf">4350.0</span>  <span class="mf">5147.50</span>   <span class="mf">6383.50</span>   <span class="mf">7160.0</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="n">Andernach</span>  <span class="mf">6333.407407</span>  <span class="mf">2016.211257</span>  <span class="mf">1470.0</span>  <span class="mf">3178.00</span>  <span class="mf">5175.00</span>  <span class="mf">6425.0</span>  <span class="mf">7412.50</span>   <span class="mf">9717.00</span>  <span class="mf">10400.0</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="n">Cologne</span>    <span class="mf">6489.277778</span>  <span class="mf">2037.005658</span>  <span class="mf">1580.0</span>  <span class="mf">3354.50</span>  <span class="mf">5277.50</span>  <span class="mf">6585.0</span>  <span class="mf">7560.00</span>   <span class="mf">9728.85</span>  <span class="mf">10700.0</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="n">Rees</span>       <span class="mf">6701.425926</span>  <span class="mf">2074.994365</span>  <span class="mf">1810.0</span>  <span class="mf">3556.50</span>  <span class="mf">5450.00</span>  <span class="mf">6575.0</span>  <span class="mf">7901.75</span>  <span class="mf">10005.00</span>  <span class="mf">11300.0</span>
</code></pre></div></li>
<li>The rest of the columns in the <code>statistical_properties</code> are start_year, end_year, nyr, q1.5, q2, q5, q10, q25,
    q50, q100, q200, q500, q1000, which are the return periods of the fitted distribution.
    <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">statistical_properties</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">9</span><span class="p">:]])</span> <span class="c1"># doctest: +SKIP</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>           <span class="n">start_year</span>  <span class="n">end_year</span>   <span class="n">nyr</span>         <span class="n">q1</span><span class="mf">.5</span>           <span class="n">q2</span>  <span class="o">...</span>          <span class="n">q200</span>          <span class="n">q500</span>         <span class="n">q1000</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nb">id</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="n">Frankfurt</span>      <span class="mf">1964.0</span>    <span class="mf">2004.0</span>  <span class="mf">40.0</span>   <span class="mf">683.254634</span>   <span class="mf">855.296864</span>  <span class="o">...</span>   <span class="mf">2258.332886</span>   <span class="mf">2460.823383</span>   <span class="mf">2717.037039</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="n">Mainz</span>          <span class="mf">1951.0</span>    <span class="mf">2004.0</span>  <span class="mf">53.0</span>  <span class="mf">3627.907224</span>  <span class="mf">4164.824744</span>  <span class="o">...</span>   <span class="mf">6734.883442</span>   <span class="mf">6919.948680</span>   <span class="mf">7110.767115</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="n">Kaub</span>           <span class="mf">1951.0</span>    <span class="mf">2004.0</span>  <span class="mf">53.0</span>  <span class="mf">3761.253314</span>  <span class="mf">4321.114689</span>  <span class="o">...</span>   <span class="mf">7131.430892</span>   <span class="mf">7348.738113</span>   <span class="mf">7577.263513</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="n">Andernach</span>      <span class="mf">1951.0</span>    <span class="mf">2004.0</span>  <span class="mf">53.0</span>  <span class="mf">5450.050443</span>  <span class="mf">6369.734950</span>  <span class="o">...</span>  <span class="mf">10654.874462</span>  <span class="mf">10950.940916</span>  <span class="mf">11252.770123</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="n">Cologne</span>        <span class="mf">1951.0</span>    <span class="mf">2004.0</span>  <span class="mf">53.0</span>  <span class="mf">5583.579049</span>  <span class="mf">6507.694660</span>  <span class="o">...</span>  <span class="mf">10940.851299</span>  <span class="mf">11261.139356</span>  <span class="mf">11591.687060</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="n">Rees</span>           <span class="mf">1951.0</span>    <span class="mf">2004.0</span>  <span class="mf">53.0</span>  <span class="mf">5759.172691</span>  <span class="mf">6693.471602</span>  <span class="o">...</span>  <span class="mf">11368.384249</span>  <span class="mf">11728.167908</span>  <span class="mf">12106.027638</span>
</code></pre></div></li>
<li>The other output is the distribution properties of the fitted distribution, which includes the shape, location, and
    scale parameters of the fitted distribution, plus the D-static and P-Value of the KS test.
    <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">distribution_properties</span><span class="p">)</span> <span class="c1"># doctest: +SKIP</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>                  <span class="n">c</span>          <span class="n">loc</span>        <span class="n">scale</span>  <span class="n">D</span><span class="o">-</span><span class="n">static</span>   <span class="n">P</span><span class="o">-</span><span class="n">Value</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nb">id</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="n">Frankfurt</span>  <span class="mf">0.051852</span>   <span class="mf">718.720761</span>   <span class="mf">376.188608</span>  <span class="mf">0.073171</span>  <span class="mf">0.999943</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">Mainz</span>      <span class="mf">0.307295</span>  <span class="mf">3743.806013</span>  <span class="mf">1214.617042</span>  <span class="mf">0.055556</span>  <span class="mf">0.999998</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="n">Kaub</span>       <span class="mf">0.282580</span>  <span class="mf">3881.573477</span>  <span class="mf">1262.426086</span>  <span class="mf">0.055556</span>  <span class="mf">0.999998</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="n">Andernach</span>  <span class="mf">0.321513</span>  <span class="mf">5649.076008</span>  <span class="mf">2084.383132</span>  <span class="mf">0.074074</span>  <span class="mf">0.998738</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="n">Cologne</span>    <span class="mf">0.306146</span>  <span class="mf">5783.017454</span>  <span class="mf">2090.224037</span>  <span class="mf">0.074074</span>  <span class="mf">0.998738</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="n">Rees</span>       <span class="mf">0.284227</span>  <span class="mf">5960.022503</span>  <span class="mf">2107.197210</span>  <span class="mf">0.074074</span>  <span class="mf">0.998738</span>
</code></pre></div></li>
<li>
<p>Since we have set <code>save_plots=True</code>, the function will save the plots in the directory we have provided in <code>save_to</code>.
    For example, the plot of Frankfurt's time series data is saved as "Frankfurt.png" for the <code>pdf</code> and <code>cdf</code> and
    "f-Frankfurt.png" for the confidince interval plot in the specified directory.'</p>
<p><img alt="Frankfurt" src="../../_images/Frankfurt.png" /></p>
<p><img alt="f-Frankfurt" src="../../_images/f-Frankfurt.png" /></p>
</li>
</ul>


            <details class="quote">
              <summary>Source code in <code>statista/eva.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="k">def</span><span class="w"> </span><span class="nf">ams_analysis</span><span class="p">(</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>    <span class="n">time_series_df</span><span class="p">:</span> <span class="n">DataFrame</span><span class="p">,</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span class="n">ams</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>    <span class="n">ams_start</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;A-OCT&quot;</span><span class="p">,</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>    <span class="n">save_plots</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>    <span class="n">save_to</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>    <span class="n">filter_out</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>    <span class="n">distribution</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;GEV&quot;</span><span class="p">,</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;lmoments&quot;</span><span class="p">,</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>    <span class="n">obj_func</span><span class="p">:</span> <span class="nb">callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>    <span class="n">quartile</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>    <span class="n">alpha</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">]:</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Annual Maximum Series analysis.</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">    ams analysis method reads resamples all the time series in the given dataframe to annual maximum, then fits</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">    the time series to a given distribution and parameter estimation method.</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">        time_series_df (DataFrame):</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">            DataFrame containing multiple time series to do the statistical analysis on.</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">        ams (bool):</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">            True if the given time series is annual mean series. Default is False.</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="sd">        ams_start (str):</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">            The beginning of the year which is used to resample the time series to get the annual maximum series.</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">            Default is &quot;A-OCT&quot;.</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">        save_plots (bool):</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">            True if you want to save the plots.</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">        save_to (str):</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="sd">            The rdir where you want to save the statistical properties.</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">        filter_out (bool):</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">            For observed or hydraulic model data it has gaps of times where the model did not run or gaps in the observed</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="sd">            data if these gap days are filled with a specific value and you want to ignore it here</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">            give filter_out = Value you want</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">        distribution (str):</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">            distribution name. Default is &quot;GEV&quot;.</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">        method (str):</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="sd">            available methods are &#39;mle&#39;, &#39;mm&#39;, &#39;lmoments&#39;, &#39;optimization&#39;. Default is &quot;lmoments&quot;.</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="sd">        obj_func (callable):</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="sd">            objective function to be used in the optimization method, default is None. for Gumbel distribution there is the</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="sd">            `Gumbel.truncated_distribution` and similarly for the GEV distribution there is the GEV.truncated_distribution.</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">        quartile (float):</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">            the quartile is only used when estimating the distribution parameters based on optimization and a threshould</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">            value, the threshold value will be calculated as the quartile coresponding to the value of this parameter.</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">        alpha (float, optional):</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">            alpha or Significance level is a value of the confidence interval. Default is [0.1].</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">        DataFrame:</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">            Statistical properties like mean, std, min, 5%, 25%, median, 75%, 95%, max, start_year, end_year, nyr, q1.5,</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">            q2, q5, q10, q25, q50, q100, q200, q500, q1000.</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">        DataFrame:</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">            Distribution properties like the shape, location, and scale parameters of the fitted distribution, plus the</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="sd">            D-static and P-Value of the KS test.</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="sd">    - First read the data as `pandas.DataFrame`.</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">        ```python</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">        &gt;&gt;&gt; ams_gauges = pd.read_csv(f&quot;examples/data/ams-gauges.csv&quot;, index_col=0)</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">        &gt;&gt;&gt; print(ams_gauges) # doctest: +SKIP</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">            Frankfurt  Mainz  Kaub  Andernach  Cologne   Rees</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">        date</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">        1951         -9   4250  4480       6080     6490   6830</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="sd">        1952         -9   4490  4610       6970     7110   7340</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">        1953         -9   4270  4380       7300     7610   7970</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">        1954         -9   2850  2910       3440     3620   3840</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">        1955         -9   5940  6050       9460     9460   9500</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="sd">        1956         -9   5000  5150       7140     7270   7540</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">        1957         -9   4500  4520       6650     6750   6950</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">        .....</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">        1998       1060   4720  4790       6910     6700   6150</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">        1999       1420   5480  5730       8160     8530   9240</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">        2000        625   3750  3900       6390     6370   6550</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">        2001       1140   5420  5710       8320     8410   8410</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a><span class="sd">        2002       1170   4950  5140       7260     7240   7940</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="sd">        2003       1800   5090  5350       8620     8840   9470</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="sd">        2004        197   1150  1190       1470     1580   1810</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="sd">        ```</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="sd">    - The time series data we have just read are the annual maximum series of the gauges, the first column is an</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a><span class="sd">        index of the year (54 years in total) and the rest are dischate values in m3/s for each the station. a value 0f</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a><span class="sd">        &quot;-9&quot; is used to fill the missing data.</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="sd">    - The `ams_analysis` function takes the time series `DataFrame` as the first and only positional argument,</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="sd">        all the other arguments are optional. Since the time series is annual maximum series already, so we don&#39;t</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a><span class="sd">        need the function to do any resampling, we set `ams=True`. The `ams_start` could be used to provide the</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">        beginning of the year to resample the time series to ams (i.e., `ams_start = &quot;A-OCT&quot;`).</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">    - We want to save the plots, so we set `save_plots=True` and provide the directory where we want to save the plots in</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">        `save_to`.</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">    - We also want to filter out the missing data, so we set `filter_out=-9`.</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">    - In order to fit the time series to a distribution we also to provide the parameter estimation method (i.e.,</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">        `lmoments`, `mle`, `mm`, `optimization`), the default is the `lmoments`, and you need to provide the name of</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="sd">        the distribution you want to fit the time series to (i.e., `GEV`, `Gumbel`). So for that we</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">        will use `method=&quot;lmoments&quot;`, and `distribution=&quot;GEV&quot;`.</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">    - The `alpha` is the significance level of the confidence interval, the default is 0.1. The `alpha` parameter is</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="sd">        necessary for the confidence interval calculation.</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a><span class="sd">        ```python</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a><span class="sd">        &gt;&gt;&gt; method = &quot;lmoments&quot;</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a><span class="sd">        &gt;&gt;&gt; save_to = &quot;examples/data/gauges&quot;</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a><span class="sd">        &gt;&gt;&gt; statistical_properties, distribution_properties = ams_analysis(</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="sd">        ...     time_series_df=ams_gauges,</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="sd">        ...     ams=True,</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="sd">        ...     save_plots=True,</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a><span class="sd">        ...     save_to=save_to,</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="sd">        ...     filter_out=-9,</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a><span class="sd">        ...     method=method,</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="sd">        ...     alpha=0.05,</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="sd">        ... ) # doctest: +SKIP</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="sd">        -----KS Test--------</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a><span class="sd">        Statistic = 0.07317073170731707</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">        Accept Hypothesis</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">        P value = 0.9999427584427157</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">        -----KS Test--------</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">        Statistic = 0.07317073170731707</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">        Accept Hypothesis</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a><span class="sd">        P value = 0.9999427584427157</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="sd">        2024-08-18 12:45:04.779 | DEBUG    | statista.confidence_interval:boot_strap:104 - Some values used top 10 low/high samples; results may be unstable.</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a><span class="sd">        2024-08-18 12:45:05.221 | INFO     | statista.eva:ams_analysis:300 - Gauge Frankfurt done.</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a><span class="sd">        ```</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="sd">    - The `ams_analysis` function will iterate over all the gauges in the time series and fit the time series to the</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="sd">        distribution and calculate the statistical properties and the distribution properties of the fitted distribution.</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a><span class="sd">    - One of the outputs of the function is the statistical properties of the time series, which includes the mean, std,</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="sd">        min, and  some quantile (5%, 25%, ..., 95%, max).</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="sd">        ```python</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="sd">        &gt;&gt;&gt; print(statistical_properties.loc[:, statistical_properties.columns[:9]]) # doctest: +SKIP</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a><span class="sd">                          mean          std     min       5%      25%  median      75%       95%      max</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a><span class="sd">        id</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a><span class="sd">        Frankfurt   917.439024   433.982918   197.0   347.00   548.00   882.0  1170.00   1760.00   1990.0</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">        Mainz      4153.333333  1181.707804  1150.0  2286.50  3415.00  4190.0  4987.50   5914.00   6920.0</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="sd">        Kaub       4327.092593  1243.019565  1190.0  2394.50  3635.00  4350.0  5147.50   6383.50   7160.0</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a><span class="sd">        Andernach  6333.407407  2016.211257  1470.0  3178.00  5175.00  6425.0  7412.50   9717.00  10400.0</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="sd">        Cologne    6489.277778  2037.005658  1580.0  3354.50  5277.50  6585.0  7560.00   9728.85  10700.0</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="sd">        Rees       6701.425926  2074.994365  1810.0  3556.50  5450.00  6575.0  7901.75  10005.00  11300.0</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="sd">        ```</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">    - The rest of the columns in the `statistical_properties` are start_year, end_year, nyr, q1.5, q2, q5, q10, q25,</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">        q50, q100, q200, q500, q1000, which are the return periods of the fitted distribution.</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">        ```python</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">        &gt;&gt;&gt; print(statistical_properties.loc[:, statistical_properties.columns[9:]]) # doctest: +SKIP</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">                   start_year  end_year   nyr         q1.5           q2  ...          q200          q500         q1000</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="sd">        id</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a><span class="sd">        Frankfurt      1964.0    2004.0  40.0   683.254634   855.296864  ...   2258.332886   2460.823383   2717.037039</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a><span class="sd">        Mainz          1951.0    2004.0  53.0  3627.907224  4164.824744  ...   6734.883442   6919.948680   7110.767115</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="sd">        Kaub           1951.0    2004.0  53.0  3761.253314  4321.114689  ...   7131.430892   7348.738113   7577.263513</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a><span class="sd">        Andernach      1951.0    2004.0  53.0  5450.050443  6369.734950  ...  10654.874462  10950.940916  11252.770123</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="sd">        Cologne        1951.0    2004.0  53.0  5583.579049  6507.694660  ...  10940.851299  11261.139356  11591.687060</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a><span class="sd">        Rees           1951.0    2004.0  53.0  5759.172691  6693.471602  ...  11368.384249  11728.167908  12106.027638</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a><span class="sd">        ```</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a><span class="sd">    - The other output is the distribution properties of the fitted distribution, which includes the shape, location, and</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="sd">        scale parameters of the fitted distribution, plus the D-static and P-Value of the KS test.</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="sd">        ```python</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a><span class="sd">        &gt;&gt;&gt; print(distribution_properties) # doctest: +SKIP</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><span class="sd">                          c          loc        scale  D-static   P-Value</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">        id</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a><span class="sd">        Frankfurt  0.051852   718.720761   376.188608  0.073171  0.999943</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a><span class="sd">        Mainz      0.307295  3743.806013  1214.617042  0.055556  0.999998</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a><span class="sd">        Kaub       0.282580  3881.573477  1262.426086  0.055556  0.999998</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a><span class="sd">        Andernach  0.321513  5649.076008  2084.383132  0.074074  0.998738</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a><span class="sd">        Cologne    0.306146  5783.017454  2090.224037  0.074074  0.998738</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a><span class="sd">        Rees       0.284227  5960.022503  2107.197210  0.074074  0.998738</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a><span class="sd">        ```</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a><span class="sd">    - Since we have set `save_plots=True`, the function will save the plots in the directory we have provided in `save_to`.</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a><span class="sd">        For example, the plot of Frankfurt&#39;s time series data is saved as &quot;Frankfurt.png&quot; for the `pdf` and `cdf` and</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><span class="sd">        &quot;f-Frankfurt.png&quot; for the confidince interval plot in the specified directory.&#39;</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">        ![Frankfurt](./../_images/Frankfurt.png)</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="sd">        ![f-Frankfurt](./../_images/f-Frankfurt.png)</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>    <span class="n">gauges</span> <span class="o">=</span> <span class="n">time_series_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>    <span class="c1"># List of the table output, including some general data and the return periods.</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>    <span class="n">col_csv</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>        <span class="s2">&quot;mean&quot;</span><span class="p">,</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>        <span class="s2">&quot;std&quot;</span><span class="p">,</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>        <span class="s2">&quot;min&quot;</span><span class="p">,</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>        <span class="s2">&quot;5%&quot;</span><span class="p">,</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>        <span class="s2">&quot;25%&quot;</span><span class="p">,</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>        <span class="s2">&quot;median&quot;</span><span class="p">,</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>        <span class="s2">&quot;75%&quot;</span><span class="p">,</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>        <span class="s2">&quot;95%&quot;</span><span class="p">,</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>        <span class="s2">&quot;max&quot;</span><span class="p">,</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>        <span class="s2">&quot;start_year&quot;</span><span class="p">,</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>        <span class="s2">&quot;end_year&quot;</span><span class="p">,</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>        <span class="s2">&quot;nyr&quot;</span><span class="p">,</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>    <span class="p">]</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>    <span class="n">rp_name</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>        <span class="s2">&quot;q1.5&quot;</span><span class="p">,</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>        <span class="s2">&quot;q2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>        <span class="s2">&quot;q5&quot;</span><span class="p">,</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>        <span class="s2">&quot;q10&quot;</span><span class="p">,</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>        <span class="s2">&quot;q25&quot;</span><span class="p">,</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>        <span class="s2">&quot;q50&quot;</span><span class="p">,</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>        <span class="s2">&quot;q100&quot;</span><span class="p">,</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>        <span class="s2">&quot;q200&quot;</span><span class="p">,</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>        <span class="s2">&quot;q500&quot;</span><span class="p">,</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>        <span class="s2">&quot;q1000&quot;</span><span class="p">,</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>    <span class="p">]</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>    <span class="n">col_csv</span> <span class="o">+=</span> <span class="n">rp_name</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>    <span class="c1"># In a table where duplicates are removed (np.unique), find the number of</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>    <span class="c1"># gauges contained in the .csv file.</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>    <span class="c1"># Declare a dataframe for the output file, with as index the gauge numbers</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>    <span class="c1"># and as columns all the output names.</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>    <span class="n">statistical_properties</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">gauges</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">col_csv</span><span class="p">)</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>    <span class="n">statistical_properties</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;id&quot;</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>    <span class="k">if</span> <span class="n">distribution</span> <span class="o">==</span> <span class="s2">&quot;GEV&quot;</span><span class="p">:</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;loc&quot;</span><span class="p">,</span> <span class="s2">&quot;scale&quot;</span><span class="p">,</span> <span class="s2">&quot;D-static&quot;</span><span class="p">,</span> <span class="s2">&quot;P-Value&quot;</span><span class="p">]</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;loc&quot;</span><span class="p">,</span> <span class="s2">&quot;scale&quot;</span><span class="p">,</span> <span class="s2">&quot;D-static&quot;</span><span class="p">,</span> <span class="s2">&quot;P-Value&quot;</span><span class="p">]</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>    <span class="n">distribution_properties</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>        <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>        <span class="n">index</span><span class="o">=</span><span class="n">gauges</span><span class="p">,</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>        <span class="n">columns</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>    <span class="p">)</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>    <span class="n">distribution_properties</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;id&quot;</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>    <span class="c1"># required return periods</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>    <span class="n">return_period</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">1000</span><span class="p">]</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>    <span class="n">return_period</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">return_period</span><span class="p">)</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>    <span class="c1"># these values are the Non Exceedance probability (F) of the chosen</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>    <span class="c1"># return periods non_exceed_prop = 1 - (1/return_period)</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>    <span class="c1"># Non Exceedance probabilities</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>    <span class="c1"># non_exceed_prop = [1/3, 0.5, 0.8, 0.9, 0.96, 0.98, 0.99, 0.995, 0.998]</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>    <span class="n">non_exceed_prop</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">return_period</span><span class="p">)</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>    <span class="n">save_to</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">save_to</span><span class="p">)</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>    <span class="c1"># Iteration over all the gauge numbers.</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>    <span class="k">if</span> <span class="n">save_plots</span><span class="p">:</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>        <span class="n">rpath</span> <span class="o">=</span> <span class="n">save_to</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;figures&quot;</span><span class="p">)</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">rpath</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>            <span class="n">rpath</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">gauges</span><span class="p">:</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>        <span class="n">q_ts</span> <span class="o">=</span> <span class="n">time_series_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>        <span class="c1"># The time series is resampled to the annual maxima, and turned into a numpy array.</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>        <span class="c1"># The hydrological year is 1-Nov/31-Oct (from Petrow and Merz, 2009, JoH).</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">ams</span><span class="p">:</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>            <span class="n">ams_df</span> <span class="o">=</span> <span class="n">q_ts</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="n">ams_start</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>            <span class="n">ams_arr</span> <span class="o">=</span> <span class="n">ams_df</span><span class="o">.</span><span class="n">values</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>            <span class="n">ams_df</span> <span class="o">=</span> <span class="n">q_ts</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>            <span class="n">ams_arr</span> <span class="o">=</span> <span class="n">q_ts</span><span class="o">.</span><span class="n">values</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>        <span class="k">if</span> <span class="n">filter_out</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>            <span class="n">ams_df</span> <span class="o">=</span> <span class="n">ams_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ams_df</span><span class="p">[</span><span class="n">ams_df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">!=</span> <span class="n">filter_out</span><span class="p">,</span> <span class="p">:]</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>            <span class="n">ams_arr</span> <span class="o">=</span> <span class="n">ams_arr</span><span class="p">[</span><span class="n">ams_arr</span> <span class="o">!=</span> <span class="n">filter_out</span><span class="p">]</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>        <span class="n">dist</span> <span class="o">=</span> <span class="n">Distributions</span><span class="p">(</span><span class="n">distribution</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">ams_arr</span><span class="p">)</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>        <span class="c1"># estimate the parameters through the given method</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>            <span class="n">threshold</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">ams_arr</span><span class="p">,</span> <span class="n">quartile</span><span class="p">)</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>            <span class="n">param_dist</span> <span class="o">=</span> <span class="n">dist</span><span class="o">.</span><span class="n">fit_model</span><span class="p">(</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>                <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>                <span class="n">obj_func</span><span class="o">=</span><span class="n">obj_func</span><span class="p">,</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>                <span class="n">threshold</span><span class="o">=</span><span class="n">threshold</span><span class="p">,</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>            <span class="p">)</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>                <span class="sa">f</span><span class="s2">&quot;The gauge </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> parameters could not be estimated because of </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>            <span class="p">)</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>            <span class="k">continue</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>        <span class="p">(</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>            <span class="n">distribution_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;D-static&quot;</span><span class="p">],</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>            <span class="n">distribution_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;P-Value&quot;</span><span class="p">],</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>        <span class="p">)</span> <span class="o">=</span> <span class="n">dist</span><span class="o">.</span><span class="n">ks</span><span class="p">()</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>        <span class="k">if</span> <span class="n">distribution</span> <span class="o">==</span> <span class="s2">&quot;GEV&quot;</span><span class="p">:</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>            <span class="n">distribution_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">param_dist</span><span class="p">[</span><span class="s2">&quot;shape&quot;</span><span class="p">]</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>            <span class="n">distribution_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;loc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">param_dist</span><span class="p">[</span><span class="s2">&quot;loc&quot;</span><span class="p">]</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>            <span class="n">distribution_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;scale&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">param_dist</span><span class="p">[</span><span class="s2">&quot;scale&quot;</span><span class="p">]</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>            <span class="n">distribution_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;loc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">param_dist</span><span class="p">[</span><span class="s2">&quot;loc&quot;</span><span class="p">]</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>            <span class="n">distribution_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;scale&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">param_dist</span><span class="p">[</span><span class="s2">&quot;scale&quot;</span><span class="p">]</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>        <span class="c1"># Return periods from the fitted distribution are stored.</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>        <span class="c1"># get the Discharge coresponding to the return periods</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>        <span class="n">q_rp</span> <span class="o">=</span> <span class="n">dist</span><span class="o">.</span><span class="n">inverse_cdf</span><span class="p">(</span><span class="n">non_exceed_prop</span><span class="p">,</span> <span class="n">param_dist</span><span class="p">)</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>        <span class="c1"># Gumbel.plot method calculates the theoretical values</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>        <span class="c1"># based on the Gumbel distribution</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>        <span class="c1"># parameters, theoretical cdf (or weibul), and calculate the confidence interval</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>        <span class="k">if</span> <span class="n">save_plots</span><span class="p">:</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>            <span class="n">fig</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">dist</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>            <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">fig2</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">dist</span><span class="o">.</span><span class="n">confidence_interval</span><span class="p">(</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>                <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">plot_figure</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>            <span class="p">)</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>            <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">save_to</span><span class="si">}</span><span class="s2">/figures/</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;png&quot;</span><span class="p">)</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>            <span class="n">fig2</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">save_to</span><span class="si">}</span><span class="s2">/figures/f-</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;png&quot;</span><span class="p">)</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>        <span class="n">quantiles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">ams_arr</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.50</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">])</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>        <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_arr</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>        <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;std&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_arr</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>        <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_arr</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>        <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;5%&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quantiles</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>        <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;25%&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quantiles</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>        <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;median&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quantiles</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>        <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;75%&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quantiles</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>        <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;95%&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quantiles</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>        <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_arr</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>        <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;start_year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>        <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;end_year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>        <span class="k">if</span> <span class="n">ams</span><span class="p">:</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>            <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;nyr&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>                <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;end_year&quot;</span><span class="p">]</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>                <span class="o">-</span> <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;start_year&quot;</span><span class="p">]</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>            <span class="p">)</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>            <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;nyr&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>                <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;end_year&quot;</span><span class="p">]</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>                <span class="o">-</span> <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;start_year&quot;</span><span class="p">]</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>            <span class="p">)</span><span class="o">.</span><span class="n">days</span> <span class="o">/</span> <span class="mf">365.25</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>        <span class="k">for</span> <span class="n">irp</span><span class="p">,</span> <span class="n">irp_name</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">q_rp</span><span class="p">,</span> <span class="n">rp_name</span><span class="p">):</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>            <span class="n">statistical_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">irp_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">irp</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>        <span class="c1"># Print for prompt and check progress.</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Gauge </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> done.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>    <span class="k">return</span> <span class="n">statistical_properties</span><span class="p">,</span> <span class="n">distribution_properties</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../distributions-class/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Distributions">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Distributions
              </div>
            </div>
          </a>
        
        
          
          <a href="../descriptors-module/" class="md-footer__link md-footer__link--next" aria-label="Next: Descriptors">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Descriptors
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/Serapieum-of-alex/statista" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.expand", "navigation.indexes", "navigation.footer", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "content.code.copy", "content.code.annotate", "content.action.edit", "content.action.view", "content.tooltips", "search.highlight", "search.suggest", "toc.follow", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>